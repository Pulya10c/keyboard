!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var a=[[["key","Backquote","ё","Ё","`","~"],["key","Digit1","1","!","1","!"],["key","Digit2","2",'"',"2","@"],["key","Digit3","3","№","3","#"],["key","Digit4","4",";","4","$"],["key","Digit5","5","%","5","%"],["key","Digit6","6",":","6","^"],["key","Digit7","7","?","7","&"],["key","Digit8","8","*","8","*"],["key","Digit9","9","(","9","("],["key","Digit0","0",")","0",")"],["key","Minus","-","_","-","_"],["key","Equal","=","+","=","+"],["key backspace","Backspace","Backspace","Backspace","Backspace","Backspace"]],[["key tab","Tab","Tab","Tab","Tab","Tab"],["key","KeyQ","й","Й","q","Q"],["key","KeyW","ц","Ц","w","W"],["key","KeyE","у","У","e","E"],["key","KeyR","к","К","r","R"],["key","KeyT","е","Е","t","T"],["key","KeyY","н","Н","y","Y"],["key","KeyU","г","Г","u","U"],["key","KeyI","ш","Ш","i","I"],["key","KeyO","щ","Щ","o","O"],["key","KeyP","з","З","p","P"],["key","BracketLeft","х","Х","[","{"],["key","BracketRight","ъ","Ъ","]","}"],["key","Backslash","\\","/","\\","|"],["key del","Delete","DEL","DEL","DEL","DEL"]],[["key capslock","CapsLock","CapsLock","CapsLock","CapsLock","CapsLock"],["key","KeyA","ф","Ф","a","A"],["key","KeyS","ы","Ы","s","S"],["key","KeyD","в","В","d","D"],["key","KeyF","а","А","f","F"],["key","KeyG","п","П","g","G"],["key","KeyH","р","Р","h","H"],["key","KeyJ","о","О","j","J"],["key","KeyK","л","Л","k","K"],["key","KeyL","д","Д","l","L"],["key","Semicolon","ж","Ж",";",":"],["key","Quote","э","Э","'",'"'],["key enter","Enter","ENTER","ENTER","ENTER","ENTER"]],[["key shift","ShiftLeft","Shift","Shift","Shift","Shift"],["key","KeyZ","я","Я","z","Z"],["key","KeyX","ч","Ч","x","X"],["key","KeyC","с","С","c","C"],["key","KeyV","м","М","v","V"],["key","KeyB","и","И","b","B"],["key","KeyN","т","Т","n","N"],["key","KeyM","ь","Ь","m","M"],["key","Comma","б","Б",".","<"],["key","Period","ю","Ю",",",">"],["key","Slash",".",",","/","?"],["key arrow","ArrowUp","▲","▲","▲","▲"],["key shift-right","ShiftRight","Shift","Shift","Shift","Shift"]],[["key ctrl","ControlLeft","Ctrl","Ctrl","Ctrl","Ctrl"],["key win","MetaLeft","Win","Win","Win","Win"],["key alt","AltLeft","Alt","Alt","Alt","Alt"],["key space","Space"," "," "," "," "],["key alt","AltRight","Alt","Alt","Alt","Alt"],["key arrow","ArrowLeft","◄","◄","◄","◄"],["key arrow","ArrowDown","▼","▼","▼","▼"],["key arrow","ArrowRight","►","►","►","►"],["key ctrl","ControlRight","Ctrl","Ctrl","Ctrl","Ctrl"]]];function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e){this.keyboardSymbol=e.flat(1/0).filter((function(e){return 1===e.length})),this.template='<textarea id="result" rows="6" cols="60"></textarea>\n  <div class="keyboard">\n  '.concat(e.map((function(e){return'<div class="row">'.concat(e.map((function(e){return'<div class="'.concat(e[0],'">\n        <span class = "').concat(e[1],' on">\n          <span class = "case down">').concat(e[2],'</span>\n          <span class = "case up">').concat(e[3],'</span>\n        </span>\n        <span class = "').concat(e[1],' off">\n          <span class = "case down">').concat(e[4],'</span>\n          <span class = "case up">').concat(e[5],"</span>\n        </span>\n      </div>")})).join(""),"\n    </div>")})).join(""),"\n  "),this.capsLock=!1,this.shift=!1,this.language=localStorage.getItem("keyboardLanguage")?localStorage.getItem("keyboardLanguage"):"ru"}c.prototype.changeClass=function(){r(document.querySelectorAll("span")).forEach((function(e){-1===e.className.indexOf(" on")?-1!==e.className.indexOf(" off")&&e.classList.replace("off","on"):e.classList.replace("on","off")}))},c.prototype.changeCase=function(){r(document.querySelectorAll(".case")).forEach((function(e){-1===e.className.indexOf(" down")?-1!==e.className.indexOf(" up")&&e.classList.replace("up","down"):e.classList.replace("down","up")}))},c.prototype.changeLanguage=function(){this.changeClass(),"ru"===this.language?this.language="en":"en"===this.language&&(this.language="ru"),localStorage.setItem("keyboardLanguage",this.language)},c.prototype.checkInput=function(e,t){if("Backspace"===t||"Delete"===t)return this.deleteSymbol(e);if("ENTER"===t)return"".concat(e,"\n");if("Tab"===t)return"".concat(e,"\t");var n=this.keyboardSymbol.find((function(e){return e===t}));return n?e+(n||""):e},c.prototype.deleteSymbol=function(e){return e.slice(0,-1)},c.prototype.create=function(){var e=this,t=0,n=0;window.addEventListener("load",(function(){document.body.append(e.render()),"ru"!==e.language&&e.changeClass();var a=document.getElementById("result");window.addEventListener("keyup",(function(r){r.preventDefault(),t=0,n=0,e.pressKeyUp(r),a.focus()})),window.addEventListener("keydown",(function(r){r.preventDefault();var c=e.keyDown(r);a.value=e.checkInput(a.value,c),"Control"===r.key?t=1:"Alt"===r.key&&(n=1),t&&n&&e.changeLanguage()})),document.querySelector(".keyboard").addEventListener("click",(function(t){t.preventDefault();var n;n=-1===t.target.className.indexOf("key")?{code:t.target.parentElement.classList[0],key:t.target.innerText}:{code:t.target.firstElementChild.classList[0],key:t.target.innerText};var r=e.keyDown(n);a.value=e.checkInput(a.value,r),setTimeout(e.pressKeyUp.bind(e,t),200)}))}))},c.prototype.render=function(){var e=document.createElement("div");return e.className="wrapper",e.insertAdjacentHTML("afterbegin",this.template),e},c.prototype.keyDown=function(e){var t=r(document.querySelectorAll(".key")).find((function(t){return-1!==t.innerHTML.indexOf(e.code)})),n="";return t&&("CapsLock"===e.code?(this.capsLock=!this.capsLock,n="capslock",this.changeCase(),this.capsLock&&t.classList.add("active")):e.code.includes("Shift")&&!this.shift?(this.changeCase(),this.shift=!this.shift,t.classList.add("active"),n=t.innerText):(t.classList.add("active"),n=t.innerText)),n||" "},c.prototype.pressKeyUp=function(e){var t=this;r(document.querySelectorAll(".key")).forEach((function(e){e.className.indexOf("active")&&-1===e.className.indexOf("capslock")&&e.classList.remove("active"),e.className.indexOf("active")&&-1!==e.className.indexOf("capslock")&&!t.capsLock&&e.classList.remove("active")})),"keyup"===e.type&&e.code.includes("Shift")&&(this.shift=!1,this.changeCase())};n(1);new c(a).create()},function(e,t){}]);